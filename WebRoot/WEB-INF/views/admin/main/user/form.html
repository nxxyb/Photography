<!DOCTYPE html>
<html>

<head>
	 <#include "/common/title.html">
	 <#include "/common/link.html">
</head>

<body class="skin-blue sidebar-mini">

    <div id="wrapper">
		
		<#include "/common/header.html">
		
		<#include "/error/error_modal.html">
            
        <div class="content-wrapper">
      
	        <section class="content-header">
	          <h1>用户表单</h1>
	          <ol class="breadcrumb">
	            <li><a href="${basePath}/toMain"><i class="fa fa-dashboard"></i> 首页</a></li>
	            <li><a href="${basePath}/user/toList"> 用户管理</a></li>
	            <li class="active"> 用户表单</li>
	          </ol>
	        </section>
            
             <section class="content">
            <!-- /.row -->
            <div class="row">
            	<div class="col-md-6">
                   <div class="box box-info">
                        <form id="userForm" role="form-horizontal" action="${basePath}/user/save" method="post">
                                <div class="box-body">
                                	<input type="hidden" name="id" value="${(user.id)!''}">
                                	<div class="form-group">
                                            <label class="control-label">用户名</label>
                                            <input class="form-control" name="loginName" placeholder="用户名" maxlength="10" value="${(user.loginName)!''}">
                                            
                                    </div>
                                    
                                    <div class="form-group">
                                            <label class="control-label">密码</label>
                                            <input type="password"" class="form-control" name="password" placeholder="密码" maxlength="10">
                                    </div>
                                    
                                    <div class="box-footer">
                                    	<button type="submit" class="btn btn-info">保存</button>
                                    	<a href="#" onclick="self.location=document.referrer" class="btn btn-info">返回</a>
                                    </div>
                        	</div>
                        </form>
                        
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
          </section>
            
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->
    
    <!-- footer start-->
		<#include "/common/footer.html">
	<!-- footer end -->
    
    <script>
    $(document).ready(function() {
    	$(".select2").select2({
		  placeholder: "请选择"
		});
    	
    	 $('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({
    	        checkboxClass: 'icheckbox_flat-green',
    	        radioClass: 'iradio_flat-green'
    	 });
    	 
    	 $('#userForm').bootstrapValidator({
 		 	message: '非法的输入值',
 	        feedbackIcons: {
 	            valid: 'glyphicon glyphicon-ok',
 	            invalid: 'glyphicon glyphicon-remove',
 	            validating: 'glyphicon glyphicon-refresh'
         	},
         	 fields: {
         		loginName: {
 	                validators: {
 	                    notEmpty: {
 	                        message: '员工号未填写！'
 	                    }
 	                }
 	            },
 	            password: {
 	                validators: {
 	                    notEmpty: {
 	                        message: '密码未填写！'
 	                    }
 	                }
 	            },
 	           "department.id": {
	                validators: {
	                    notEmpty: {
	                        message: '部门未选择！'
	                    }
	                }
	            },
 	           realName: {
 	                validators: {
 	                    notEmpty: {
 	                        message: '真实姓名未填写！'
 	                    }
 	                }
 	            },
 	           mobile: {
	                validators: {
	                	regexp: {
	                        regexp: /^((00|\+)?(86(?:-| )))?((\d{11})|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{7,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/,
	                        message: '请输入正确的手机号！'
	                    }
	                }
	            },
	            email: {
		                validators: {
		                	emailAddress: {
		                        message: '请输入正确的邮箱地址！'
		                    }
		                }
		            }
 		 	  }
 		 	});
    	 
    	 $('#rygl').addClass('active');
    });
    
    </script>

</body>

</html>
